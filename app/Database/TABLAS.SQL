CREATE TABLE TIPO_PERSONA (
    ID_TIPO varchar(30) NOT NULL,
    DSC_TIPO varchar(40) NOT NULL,
    FK1_ID_REGISTRO_PERSONA VARCHAR(50)
    
);
#LLAVE PK
ALTER TABLE TIPO_PERSONA ADD PRIMARY KEY (ID_TIPO);
#LLAVE FK
ALTER TABLE TIPO_PERSONA ADD CONSTRAINT TIPO_PERSONA_FK1 FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;
--------------------------------------------------------------------------------------------------
CREATE TABLE PERSONA (
    ID_REGISTRO_PERSONA varchar(50) NOT NULL,
    ID_PERSONA varchar(30) NOT NULL,
    NOMBRE varchar(30) NOT NULL,
    APPELLIDOS varchar(30) NOT NULL,
    FECH_NACIMIENTO date NOT NULL,
    GENERO char(2) NOT NULL
) ;
#LLAVE PK
ALTER TABLE PERSONA ADD PRIMARY KEY (ID_REGISTRO_PERSONA);
-- --------------------------------------------------------

CREATE TABLE PASSWORD_PERSONA (
    ID_PASSWORD varchar(30) NOT NULL,
    DSC_PASSWORD varchar(100) NOT NULL,
    FK1_ID_REGISTRO_PERSONA VARCHAR(50)
);
#LLAVE PK
ALTER TABLE PASSWORD_PERSONA ADD PRIMARY KEY (ID_PASSWORD);
#LLAVE FK 
ALTER TABLE PASSWORD_PERSONA ADD CONSTRAINT PASSWORD_PERSONA_FK1 FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;
-- --------------------------------------------------------
------------------------------------FALTA HACER
CREATE TABLE HISTORICO_PASSWORD(
    ID_PASSWORD_HIST VARCHAR(30) NOT NULL,
    FECHA_INGRESO DATE,
    FECHA_SALIDA DATE,
    ULTIMA_DSC_PASSWORD VARCHAR(100) NOT NULL,
    FK1_ID_REGISTRO_PERSONA VARCHAR(50)
);
ALTER TABLE ID_PASSWORD_HIST ADD PRIMARY KEY (ID_PASSWORD_HIST);
---------------------------------------------------------------------------------
#LLAVE FK 
ALTER TABLE HISTORICO_PASSWORD ADD CONSTRAINT HIST_PASSWORD_PERSONA_FK1 FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;


CREATE TABLE PERSONA_CONTACTO (
    ID_CONTACTO varchar(30) NOT NULL,
    EMAIL varchar(50) NOT NULL,
    TELEFONO int(30) NOT NULL,
    FK1_ID_REGISTRO_PERSONA varchar(50)
) ;
#LLAVE PK
ALTER TABLE PERSONA_CONTACTO ADD PRIMARY KEY (ID_CONTACTO);
# LLAVES FK
ALTER TABLE PERSONA_CONTACTO ADD CONSTRAINT FK1_ID_REGISTRO_PERSONA FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;
---------------------------------------------------------------------------------
CREATE TABLE PERSONA_UBICACION (
    ID_UBICACION varchar(30) NOT NULL,
    PAIS VARCHAR(40) NOT NULL,
    CODIGO_POSTAL int(6) NOT NULL,
    FK1_ID_REGISTRO_PERSONA VARCHAR(50)
);
#LLAVE PK
ALTER TABLE PERSONA_UBICACION ADD PRIMARY KEY (ID_UBICACION);
#LLAVE FK 
ALTER TABLE PERSONA_UBICACION ADD CONSTRAINT FK_ID_REGISTRO_PERSONA FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;
-- --------------------------------------------------------
-------------------------------------------------------------NUEVAS TABLAS
CREATE TABLE  GALERIA(
    ID_IMAGEN INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    IMG_PATH VARCHAR(100),
    FECHA DATE
); 

----------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE PERSONA_TESTIMONIOS(
    ID_TESTI INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    DSC_TESTIMONIO VARCHAR(200),
    FK1_ID_REGISTRO_PERSONA VARCHAR(50)
);

# LLAVE FK 
ALTER TABLE PERSONA_TESTIMONIOS ADD CONSTRAINT FK3_ID_REGISTRO_PERSONA FOREIGN KEY (FK1_ID_REGISTRO_PERSONA) REFERENCES PERSONA (ID_REGISTRO_PERSONA) ON DELETE CASCADE;



